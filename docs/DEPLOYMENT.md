# デプロイメントガイド (Deployment Guide)

このドキュメントでは、開発環境（RustコンパイラやNode.js）がインストールされていない環境で、本システムを実行可能にするための手順（ビルドと配置）について解説します。

## 1. バックエンド (Backend)

バックエンドは単一の実行ファイル（バイナリ）としてビルドされます。

### 1.1. ビルド (開発機での作業)

開発環境のターミナルで以下のコマンドを実行し、リリースビルドを作成します。

```bash
cd backend
cargo build --release
```

ビルドが成功すると、以下のパスに実行ファイルが生成されます。
*   **Windows**: `backend/target/release/backend.exe`
*   **Mac/Linux**: `backend/target/release/backend`

### 1.2. 配置と実行 (実行環境での作業)

1.  **フォルダ作成**: 任意の場所にフォルダを作成します（例: `bingo-app`）。
2.  **ファイルコピー**: 生成された実行ファイル (`backend.exe`) をそのフォルダにコピーします。
3.  **設定ファイル**: 必要に応じて `seeds.txt` を同じフォルダに配置します。
4.  **実行**: `backend.exe` をダブルクリック、またはコマンドプロンプトから実行します。

```text
listening on 0.0.0.0:3000
```

と表示されれば起動成功です。ウィンドウは開いたままにしてください。

---

## 2. フロントエンド (Frontend)

フロントエンドは静的なHTML/CSS/JavaScriptファイルとしてビルドされます。

### 2.1. ビルド (開発機での作業)

開発環境のターミナルで以下のコマンドを実行します。

```bash
cd frontend
npm run build
```

ビルドが成功すると、`frontend/dist/` ディレクトリに全ての成果物が生成されます。

### 2.2. 配置と実行 (実行環境での作業)

生成された `dist` フォルダの中身は静的ファイルですが、SPA (Single Page Application) の仕組みやブラウザのセキュリティ制約（CORS等）のため、**Webサーバー経由で配信する必要があります**。
`index.html` を直接ダブルクリックしても正しく動作しません。

以下のいずれかの方法でホストしてください。

#### 方法A: 既存のWebサーバーを使用する (推奨)
Nginx, Apache, IIS などのWebサーバーが既にある場合、`dist` フォルダの中身をドキュメントルートに配置してください。

#### 方法B: 簡易Webサーバーを使用する
もし実行環境に何らかのランタイムがある場合、簡易サーバーを利用できます。

*   **Node.jsがある場合**: `npx serve -s dist`
*   **Pythonがある場合**: `dist` フォルダ内で `python -m http.server 8080`

### 2.3. 接続確認

Webサーバーが起動したら、ブラウザでそのURL（例: `http://localhost:8080`）にアクセスしてください。
バックエンドが `localhost:3000` で起動していれば、ゲームが正常に動作します。

---

## 3. 構成図

```text
[実行環境 PC]
├── backend.exe  (ポート 3000 で待機)
│   └── seeds.txt
│
└── Web Server   (ポート 8080 等で待機)
    └── dist/    (フロントエンドの静的ファイル群)
        ├── index.html
        └── assets/
```
